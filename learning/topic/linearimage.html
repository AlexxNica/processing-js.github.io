---
layout: default
---
<h3>LinearImage</h3>



<p>Click and drag mouse up and down to control the signal. 

Press and hold any key to watch the scanning.</p>



<p><a href="http://processing.org/learning/topics/linearimage.html"><b>Original Processing.org Example:</b> LinearImage</a><br>

<div class="learning-demo"><script type="application/processing">

/* @pjs preload="data/florence03.jpg"; */



PImage a;

boolean onetime = true;

int[] aPixels = new int[200*200];

int direction = 1;



float signal;



void setup() 

{

  size(200, 200);

  stroke(255);

  a = loadImage("data/florence03.jpg");

  for(int i=0; i<width*height; i++) {

    aPixels[i] = a.pixels[i];

  }

  frameRate(30);

}



void draw() 

{

  if (signal > width-1 || signal < 0) { 

    direction = direction * -1; 

  }



  if(mousePressed) {

    signal = abs(mouseY%height);

  } else {

    signal += (0.3*direction);  

  }

  

  

  if(keyPressed) {

    image(a, 0, 0);

    /*

    loadPixels();

    for (int i=0; i<width*height; i++) { 

      pixels[i] = aPixels[i];  

    }

    updatePixels();

    */

    line(0, signal, width, signal);

  } else {

    loadPixels();

    for (int i=0; i<width*height; i++) { 

      pixels[i] = aPixels[int((width*int(signal))+(i%width))];

    }

    updatePixels();

  }

  

}

</script><canvas width="200" height="200"></canvas></div></p>



<div class="code"><pre name="code" class="processing">// All Examples Written by Casey Reas and Ben Fry

// unless otherwise stated.

/* @pjs preload="data/florence03.jpg"; */



PImage a;

boolean onetime = true;

int[] aPixels = new int[200*200];

int direction = 1;



float signal;



void setup() 

{

  size(200, 200);

  stroke(255);

  a = loadImage("data/florence03.jpg");

  for(int i=0; i&lt;width*height; i++) {

    aPixels[i] = a.pixels[i];

  }

  frameRate(30);

}



void draw() 

{

  if (signal &gt; width-1 || signal &lt; 0) { 

    direction = direction * -1; 

  }



  if(mousePressed) {

    signal = abs(mouseY%height);

  } else {

    signal += (0.3*direction);  

  }

  

  

  if(keyPressed) {

    loadPixels();

    for (int i=0; i&lt;width*height; i++) { 

      pixels[i] = aPixels[i];  

    }

    updatePixels();

    line(0, signal, width, signal);

  } else {

    loadPixels();

    for (int i=0; i&lt;width*height; i++) { 

      pixels[i] = aPixels[int((width*int(signal))+(i%width))];

    }

    updatePixels();

  }

  

}</pre></div>





